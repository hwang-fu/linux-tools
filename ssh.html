<!-- * * * * * * * * * * * * * * -->
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>SSH</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css">

    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"
            data-prismjs-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs/components/"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
    html {
        scroll-behavior: smooth;
    }

    .back-to-top {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #333;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 22px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        opacity: 0.75;
        transition: opacity 0.2s ease, transform 0.2s ease;
        z-index: 999;
    }

    .back-to-top:hover {
        opacity: 1;
        transform: translateY(-2px);
    }

    .nav-icon {
        width: 18px;
        height: 18px;
        object-fit: contain;
        vertical-align: middle;
        margin-left: 0.3rem;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-size: 14px;
    }

    th {
        background-color: #f5f5f5;
        text-align: left;
        font-weight: 600;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px 12px;
    }

    tr:nth-child(even) {
        background-color: #fafafa;
    }

    tr:hover {
        background-color: #f0f8ff;
    }

    .comment {
        color: grey;
    }

    .token.keyword {
        font-weight: 500;
    }

    .red-underline {
        text-decoration-line: underline;
        text-decoration-color: red;
        text-decoration-thickness: 2px;
        text-underline-offset: 2px;
    }

    body {
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-variant-ligatures: none;
    }

    ul > li {
        list-style-type: disc;
    }

    code {
        color: #24292e;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .375rem;
        padding: .15rem .35rem;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.4;
    }

    pre {
        margin: 1rem 0;
        padding: .8rem 1rem;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .5rem;
        overflow: auto;
        tab-size: 4;
    }

    pre code {
        display: block;
        padding: 0;
        background: transparent;
        border: 0;
        color: #24292e;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre;
    }
</style>
</head>
<!-- * * * * * * * * * * * * * * -->
<body>
<a href="#" class="back-to-top" aria-label="Back to top">
    &#8593;
</a>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<hr/>
<nav id="toc" style="margin-bottom: 2rem;">
    <ul style="line-height: 1.8;">
        <li><a href="#ssh-intro">Introduction</a></li>
    </ul>
</nav>
<hr/>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<h3 id="ssh-intro">Introduction to SSH (Secure Shell)</h3>
<ol>

    <li><b>What Is SSH?</b></li>
    <ul>
        <br/>
        <li><b>SSH (Secure Shell)</b> is a cryptographic network protocol used to securely connect to remote computers.</li>
        <br/>
        <li>It allows you to:
            <ul>
                <li>log in to remote servers,</li>
                <li>run commands,</li>
                <li>transfer files,</li>
                <li>tunnel network traffic,</li>
                <li>and manage systems securely over an encrypted connection.</li>
            </ul>
        </li>
        <br/>
        <li>SSH replaces older insecure protocols such as <code>telnet</code> and <code>rsh</code>, which transmitted passwords in plain text.</li>
        <br/>
        <li>SSH is one of the most essential tools for developers, system administrators, DevOps engineers, and cloud users.</li>
    </ul>
    <br/><br/>


    <li><b>How SSH Works: A Simple Overview</b></li>
    <br/>
    <ul>
        <li>You usually authenticate using:
            <ul>
                <li><b>password</b> (less secure)</li>
                <li><b>SSH key pair</b> (much more secure)</li>
            </ul>
        </li>
        <br/>
        <li>The general connection flow:</li>
<pre><code class="language-plaintext line-numbers">
Your Machine  → (encrypted tunnel) → Remote Server
</code></pre>
    </ul>

    <br/>
    <ul>
        <li>All communication goes through port <code>22</code> by default.</li>
    </ul>
    <br/><br/>


    <li><b>SSH Key Pairs</b></li>
    <br/>
    <ul>
        <li>SSH keys are the most secure way to authenticate.</li>
        <li>A key pair consists of:</li>
        <ul>
            <li><b>Private key</b> — stays on your machine and must never be shared.</li>
            <li><b>Public key</b> &nbsp; — stored on the remote server in <code>~/.ssh/authorized_keys</code>.</li>
        </ul>
        <li>To generate a key pair:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t ed25519 -C "your_email@example.com"</code></pre>

    <br/>
    <ul>
        <li>This creates:
            <ul>
                <li><code>id_ed25519</code> — private key</li>
                <li><code>id_ed25519.pub</code> — public key</li>
            </ul>
        </li>
        <li>For older systems, <code>-t rsa</code> may be used, but <code>ed25519</code> is recommended for better security and performance.</li>
    </ul>
    <br/><br/>


    <li><b>Connecting to a Remote Server</b></li>
    <br/>
    <ul>
        <li>Basic SSH command:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh username@hostname</code></pre>

    <br/>
    <ul>
        <li>Examples:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh ubuntu@54.23.11.222       # AWS EC2 instance
ssh user@myserver.com         # domain
ssh root@192.168.1.10         # LAN server</code></pre>

    <br/>
    <ul>
        <li>If your key is named something else:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -i mykey.pem ubuntu@&lt;public-ip&gt;</code></pre>

    <br/>
    <ul>
        <li>If the server uses a non-default port:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -p 2222 user@host</code></pre>

    <br/><br/>


    <li><b>First-Time Connection and Host Keys</b></li>
    <br/>
    <ul>
        <li>The first time you connect to a server, SSH shows a message:</li>
    </ul>

<pre><code class="language-plaintext line-numbers">
The authenticity of host 'example.com (54.x.x.x)' can't be established.
Are you sure you want to continue connecting (yes/no)?
</code></pre>

    <br/>
    <ul>
        <li>This is SSH verifying the server’s identity.</li>
        <li>It stores the server’s fingerprint in <code>~/.ssh/known_hosts</code>.</li>
        <li>Next time you connect, SSH will warn you if the fingerprint changes (which could indicate a security risk).</li>
    </ul>
    <br/><br/>


    <li><b>SSH Directory Layout</b></li>
    <br/>
    <ul>
        <li>Your local SSH configuration lives in <code>~/.ssh/</code>:</li>
    </ul>

<pre><code class="language-plaintext line-numbers">
~/.ssh/
    id_ed25519           ← private key
    id_ed25519.pub       ← public key
    authorized_keys      ← keys allowed to log in (on server)
    known_hosts          ← server fingerprints
    config               ← optional config file
</code></pre>

    <br/><br/>


    <li><b>SSH Config File (Simplifies Connections)</b></li>
    <br/>
    <ul>
        <li>You can create <code>~/.ssh/config</code> to store shortcuts and settings:</li>
    </ul>

<pre><code class="language-bash line-numbers">Host my-ec2
    HostName 54.23.11.222
    User ubuntu
    IdentityFile ~/.ssh/mykey.pem
    Port 22</code></pre>

    <br/>
    <ul>
        <li>Now connect with:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh my-ec2</code></pre>

    <br/>
    <ul>
        <li>This is extremely useful when working with many servers.</li>
    </ul>
    <br/><br/>


    <li><b>Copying Files via SSH</b></li>
    <br/>
    <ul>
        <li>Use <b>scp</b> (Secure Copy) or <b>rsync</b> over SSH.</li>
    </ul>

    <ul><li><b>Upload a file:</b></li></ul>

<pre><code class="language-bash line-numbers">scp file.txt user@host:/remote/path/</code></pre>

    <ul><li><b>Download a file:</b></li></ul>

<pre><code class="language-bash line-numbers">scp user@host:/remote/path/file.txt ./</code></pre>

    <ul><li><b>Copy a folder recursively:</b></li></ul>

<pre><code class="language-bash line-numbers">scp -r ./myfolder user@host:/var/www/</code></pre>

    <br/>
    <ul>
        <li><b>rsync</b> example (faster, syncs changes only):</li>
    </ul>

<pre><code class="language-bash line-numbers">rsync -avz ./site/ user@host:/var/www/site/</code></pre>

    <br/><br/>


    <li><b>Port Forwarding (Tunneling)</b></li>
    <br/>
    <ul>
        <li>SSH can forward ports to securely tunnel traffic.</li>
    </ul>

    <ul>
        <li><b>Local port forward</b> — access remote service through local port:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -L 8080:localhost:3000 user@host</code></pre>

    <br/>
    <ul>
        <li>This forwards <code>localhost:8080</code> on your machine → <code>localhost:3000</code> on the remote server.</li>
        <li>Useful for:
            <ul>
                <li>remote development,</li>
                <li>databases,</li>
                <li>private web dashboards.</li>
            </ul>
        </li>
    </ul>

    <br/>
    <ul>
        <li><b>Reverse port forwarding</b>:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -R 9000:localhost:3000 user@host</code></pre>

    <br/>
    <ul>
        <li>This allows a remote server to access a local port on your machine.</li>
    </ul>
    <br/><br/>


    <li><b>SSH Agent (Storing Keys Temporarily)</b></li>
    <br/>
    <ul>
        <li>The SSH agent holds private keys in memory so you don’t need to type your passphrase each time.</li>
    </ul>

<pre><code class="language-bash line-numbers">eval "$(ssh-agent)"
ssh-add ~/.ssh/id_ed25519</code></pre>

    <br/>
    <ul>
        <li>Once added, SSH can use the keys automatically.</li>
    </ul>
    <br/><br/>


    <li><b>Hardening SSH Security</b></li>
    <br/>
    <ul>
        <li>SSH is secure, but you can harden it further by:</li>
        <ul>
            <li>Disabling password login (use only keys)</li>
            <li>Changing SSH port</li>
            <li>Restricting users with <code>AllowUsers</code></li>
            <li>Using fail2ban to block repeated failures</li>
            <li>Enforcing firewall rules</li>
        </ul>
        <li>SSH server config file (on remote server): <code>/etc/ssh/sshd_config</code>.</li>
    </ul>
    <br/><br/>

</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>
<!-- * * * * * * * * * * * * * * -->

<footer>
    <p>&copy; 2025 Hwangfucius. All rights reserved.</p>
</footer>
</body>
<!-- * * * * * * * * * * * * * * -->
</html>
<!-- * * * * * * * * * * * * * * -->
