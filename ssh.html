<!-- * * * * * * * * * * * * * * -->
<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>SSH</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css">

    <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"
            data-prismjs-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs/components/"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"></script>

<style>
    html {
        scroll-behavior: smooth;
    }

    .back-to-top {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #333;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 22px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        opacity: 0.75;
        transition: opacity 0.2s ease, transform 0.2s ease;
        z-index: 999;
    }

    .back-to-top:hover {
        opacity: 1;
        transform: translateY(-2px);
    }

    .nav-icon {
        width: 18px;
        height: 18px;
        object-fit: contain;
        vertical-align: middle;
        margin-left: 0.3rem;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-size: 14px;
    }

    th {
        background-color: #f5f5f5;
        text-align: left;
        font-weight: 600;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px 12px;
    }

    tr:nth-child(even) {
        background-color: #fafafa;
    }

    tr:hover {
        background-color: #f0f8ff;
    }

    .comment {
        color: grey;
    }

    .token.keyword {
        font-weight: 500;
    }

    .red-underline {
        text-decoration-line: underline;
        text-decoration-color: red;
        text-decoration-thickness: 2px;
        text-underline-offset: 2px;
    }

    body {
        font-family: "KaiTi", "楷体", "STKaiti", "Kaiti SC", serif;
        font-variant-ligatures: none;
    }

    ul > li {
        list-style-type: disc;
    }

    code {
        color: #24292e;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .375rem;
        padding: .15rem .35rem;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.4;
    }

    pre {
        margin: 1rem 0;
        padding: .8rem 1rem;
        background-color: #f6f8fa;
        border: 1px solid #d0d7de;
        border-radius: .5rem;
        overflow: auto;
        tab-size: 4;
    }

    pre code {
        display: block;
        padding: 0;
        background: transparent;
        border: 0;
        color: #24292e;
        font-family: "FiraCode Nerd Font", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        white-space: pre;
    }
</style>
</head>
<!-- * * * * * * * * * * * * * * -->
<body>
<a href="#" class="back-to-top" aria-label="Back to top">
    &#8593;
</a>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<hr/>
<nav id="toc" style="margin-bottom: 2rem;">
    <ul style="line-height: 1.8;">
        <li><a href="#ssh-intro">Introduction</a></li>
        <li><a href="#ssh-options">Options</a></li>
        <li><a href="#ssh-keygen-intro">About <code>ssh-keygen</code></a></li>
    </ul>
</nav>
<hr/>
<!-- * * * * * * * * * * * * * * -->


<!-- * * * * * * * * * * * * * * -->
<h3 id="ssh-intro">Introduction to SSH (Secure Shell)</h3>
<ol>

    <li><b>What Is SSH?</b></li>
    <ul>
        <br/>
        <li><b>SSH (Secure Shell)</b> is a cryptographic network protocol used to securely connect to remote computers.</li>
        <br/>
        <li>It allows you to:
            <ul>
                <li>log in to remote servers,</li>
                <li>run commands,</li>
                <li>transfer files,</li>
                <li>tunnel network traffic,</li>
                <li>and manage systems securely over an encrypted connection.</li>
            </ul>
        </li>
        <br/>
        <li>SSH replaces older insecure protocols such as <code>telnet</code> and <code>rsh</code>, which transmitted passwords in plain text.</li>
        <br/>
        <li>SSH is one of the most essential tools for developers, system administrators, DevOps engineers, and cloud users.</li>
    </ul>
    <br/><br/>


    <li><b>How SSH Works: A Simple Overview</b></li>
    <br/>
    <ul>
        <li>You usually authenticate using:
            <ul>
                <li><b>password</b> (less secure)</li>
                <li><b>SSH key pair</b> (much more secure)</li>
            </ul>
        </li>
        <br/>
        <li>The general connection flow:</li>
<pre><code class="language-plaintext line-numbers">Your Machine  → (encrypted tunnel) → Remote Server
</code></pre>
    </ul>

    <br/>
    <ul>
        <li>All communication goes through port <code>22</code> by default.</li>
    </ul>
    <br/><br/>


    <li><b>SSH Key Pairs</b></li>
    <ul>
        <br/>
        <li>SSH keys are the most secure way to authenticate.</li>
        <br/>
        <li>A key pair consists of:</li>
        <ul>
            <li><b>Private key</b> — stays on your machine and must never be shared.</li>
            <li><b>Public key</b> — stored on the remote server in <code>~/.ssh/authorized_keys</code>.</li>
        </ul>
        <br/>
        <li>To generate a key pair:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t ed25519 -C "your_email@example.com"</code></pre>
    <ul>
        <li>This creates <code>id_ed25519</code> the private key and <code>id_ed25519.pub</code> the public key.</li>
        <li>For older systems, <code>-t rsa</code> may be used, but <code>ed25519</code> is recommended for better security and performance.</li>
    </ul>
    <br/><br/>


    <li><b>Connecting to a Remote Server</b></li>
    <br/>
    <ul>
        <li>Basic SSH command:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh username@hostname</code></pre>

    <br/>
    <ul>
        <li>Examples:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh ubuntu@54.23.11.222       # AWS EC2 instance
ssh user@myserver.com         # domain
ssh root@192.168.1.10         # LAN server</code></pre>

    <br/>
    <ul>
        <li>If your key is named something else:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -i mykey.pem ubuntu@&lt;public-ip&gt;</code></pre>

    <br/>
    <ul>
        <li>If the server uses a non-default port:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -p 2222 user@host</code></pre>

    <br/><br/>


    <li><b>First-Time Connection and Host Keys</b></li>
    <br/>
    <ul>
        <li>The first time you connect to a server, SSH shows a message:</li>
    </ul>

<pre><code class="language-plaintext line-numbers">The authenticity of host 'example.com (54.x.x.x)' can't be established.
Are you sure you want to continue connecting (yes/no)?
</code></pre>

    <ul>
        <li>This is SSH verifying the server’s identity.</li>
        <li>It stores the server’s fingerprint in <code>~/.ssh/known_hosts</code>.</li>
        <li>Next time you connect, SSH will warn you if the fingerprint changes (which could indicate a security risk).</li>
    </ul>
    <br/><br/>


    <li><b>SSH Directory Layout</b></li>
    <br/>
    <ul>
        <li>Your local SSH configuration lives in <code>~/.ssh/</code>:</li>
    </ul>

<pre><code class="language-bash line-numbers">~/.ssh/
    id_ed25519           # private key
    id_ed25519.pub       # public key
    authorized_keys      # keys allowed to log in (on server)
    known_hosts          # server fingerprints
    config               # optional config file
</code></pre>

    <br/><br/>


    <li><b>SSH Config File (Simplifies Connections)</b></li>
    <br/>
    <ul>
        <li>You can create <code>~/.ssh/config</code> to store shortcuts and settings:</li>
    </ul>

<pre><code class="language-bash line-numbers">Host my-ec2
    HostName 54.23.11.222
    User ubuntu
    IdentityFile ~/.ssh/mykey.pem
    Port 22</code></pre>

    <br/>
    <ul>
        <li>Now connect with:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh my-ec2</code></pre>

    <br/>
    <ul>
        <li>This is extremely useful when working with many servers.</li>
    </ul>
    <br/><br/>


    <li>To Copy Files via SSH</li>
    <ul>
        <br/>
        <li>Use <code>scp</code> (Secure Copy) or <code>rsync</code> over SSH.</li>
    </ul>

    <br/>
    <ul><li>To Upload a file:</li></ul>

<pre><code class="language-bash line-numbers">scp file.txt user@host:/remote/path/</code></pre>

    <br/>
    <ul><li>To Download a file:</li></ul>

<pre><code class="language-bash line-numbers">scp user@host:/remote/path/file.txt ./</code></pre>

    <br/>
    <ul><li>To Copy a folder recursively:</li></ul>

<pre><code class="language-bash line-numbers">scp -r ./myfolder user@host:/var/www/</code></pre>

    <br/>
    <ul>
        <li><code>rsync</code> example (faster, syncs changes only):</li>
    </ul>

<pre><code class="language-bash line-numbers">rsync -avz ./site/ user@host:/var/www/site/</code></pre>

    <br/><br/>


    <li><b>Port Forwarding (Tunneling)</b></li>
    <br/>
    <ul>
        <li>SSH can forward ports to securely tunnel traffic.</li>
    </ul>

    <br/>
    <ul>
        <li><b>Local port forward</b> — access remote service through local port:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -L 8080:localhost:3000 user@host</code></pre>

    <ul>
        <li>This forwards <code>localhost:8080</code> on your machine → <code>localhost:3000</code> on the remote server.</li>
        <li>Useful for:
            <ul>
                <li>remote development,</li>
                <li>databases,</li>
                <li>private web dashboards.</li>
            </ul>
        </li>
    </ul>

    <br/>
    <ul>
        <li><b>Reverse port forwarding</b>:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh -R 9000:localhost:3000 user@host</code></pre>

    <ul>
        <li>This allows a remote server to access a local port on your machine.</li>
    </ul>
    <br/><br/>


    <li><b>SSH Agent (Storing Keys Temporarily)</b></li>
    <br/>
    <ul>
        <li>The SSH agent holds private keys in memory so you don’t need to type your passphrase each time.</li>
    </ul>

<pre><code class="language-bash line-numbers">eval "$(ssh-agent)"
ssh-add ~/.ssh/id_ed25519</code></pre>

    <ul>
        <li>Once added, SSH can use the keys automatically.</li>
    </ul>
    <br/><br/>


    <li><b>Hardening SSH Security</b></li>
    <br/>
    <ul>
        <li>SSH is secure, but you can harden it further by:</li>
        <ul>
            <li>Disabling password login (use only keys)</li>
            <li>Changing SSH port</li>
            <li>Restricting users with <code>AllowUsers</code></li>
            <li>Using fail2ban to block repeated failures</li>
            <li>Enforcing firewall rules</li>
        </ul>
        <br/>
        <li>SSH server config file (on remote server): <code>/etc/ssh/sshd_config</code>.</li>
    </ul>
    <br/><br/>

</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="ssh-options">Common SSH Command Options</h3>
<ol>

    <li><b>Overview</b></li>
    <ul>
        <br/>
        <li>This chapter summarizes the most commonly used <code>ssh</code> client options.</li>
        <br/>
        <li>These options apply to the OpenSSH client (the one you normally use on Linux/macOS and WSL).</li>
    </ul>
    <br/><br/>


    <li><b>Basic Connection and Identity Options</b></li>
    <br/>
    <ul>
        <li>These options are most frequently used when connecting to a host.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-p &lt;port&gt;</code></td>
            <td>Connect to the remote host on the specified TCP port (default is 22).</td>
            <td><code>ssh -p 2222 user@example.com</code></td>
        </tr>

        <tr>
            <td><code>-i &lt;identity_file&gt;</code></td>
            <td>Use this private key file for authentication (instead of the default <code>~/.ssh/id_*</code>).</td>
            <td><code>ssh -i ~/.ssh/mykey.pem ubuntu@host</code></td>
        </tr>

        <tr>
            <td><code>-l &lt;user&gt;</code></td>
            <td>Specify the remote login user (same as <code>user@host</code>).</td>
            <td><code>ssh -l ubuntu 1.2.3.4</code></td>
        </tr>

        <tr>
            <td><code>-F &lt;configfile&gt;</code></td>
            <td>Use an alternative SSH config file instead of <code>~/.ssh/config</code>.</td>
            <td><code>ssh -F ./ssh_config my-alias</code></td>
        </tr>

        <tr>
            <td><code>-4</code>, <code>-6</code></td>
            <td>Force use of IPv4 (<code>-4</code>) or IPv6 (<code>-6</code>).</td>
            <td><code>ssh -4 user@example.com</code></td>
        </tr>

        <tr>
            <td><code>-C</code></td>
            <td>Enable compression on the SSH connection (useful on slow links).</td>
            <td><code>ssh -C user@example.com</code></td>
        </tr>

        <tr>
            <td><code>-q</code></td>
            <td>Quiet mode: suppress most warnings and diagnostic messages.</td>
            <td><code>ssh -q user@example.com</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Authentication and Key Handling</b></li>
    <br/>
    <ul>
        <li>Options related to authentication behavior and keys.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-i &lt;identity_file&gt;</code></td>
            <td>Use specified private key file (repeated here because it is so common).</td>
            <td><code>ssh -i ~/.ssh/id_ed25519 user@host</code></td>
        </tr>

        <tr>
            <td><code>-A</code></td>
            <td>Enable SSH agent forwarding (forward your local agent to the remote host).</td>
            <td><code>ssh -A user@jumphost</code></td>
        </tr>

        <tr>
            <td><code>-a</code></td>
            <td>Disable SSH agent forwarding (explicitly turn it off).</td>
            <td><code>ssh -a user@host</code></td>
        </tr>

        <tr>
            <td><code>-K</code></td>
            <td>Enable GSSAPI-based authentication (Kerberos etc.), if configured.</td>
            <td><code>ssh -K user@host</code></td>
        </tr>

        <tr>
            <td><code>-o PreferredAuthentications=&lt;methods&gt;</code></td>
            <td>Specify which authentication methods to try (e.g., <code>publickey,password</code>).</td>
            <td><code>ssh -o PreferredAuthentications=publickey user@host</code></td>
        </tr>

        <tr>
            <td><code>-o IdentitiesOnly=yes</code></td>
            <td>Use only the explicitly specified identities (not every key from the agent).</td>
            <td><code>ssh -i ~/.ssh/work_rsa -o IdentitiesOnly=yes user@host</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Host Key Checking and Security</b></li>
    <br/>
    <ul>
        <li>Options controlling how SSH verifies the server identity.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-o StrictHostKeyChecking=yes|no|ask</code></td>
            <td>
                Control behavior when a host key changes or is unknown:<br/>
                <b>yes</b> = refuse; <b>no</b> = accept automatically; <b>ask</b> = prompt.
            </td>
            <td><code>ssh -o StrictHostKeyChecking=ask user@host</code></td>
        </tr>

        <tr>
            <td><code>-o UserKnownHostsFile=&lt;file&gt;</code></td>
            <td>Use a particular known-hosts file instead of <code>~/.ssh/known_hosts</code>.</td>
            <td><code>ssh -o UserKnownHostsFile=./known_hosts user@host</code></td>
        </tr>

        <tr>
            <td><code>-o VerifyHostKeyDNS=yes|no</code></td>
            <td>Check host keys via DNS (SSHFP records), if configured.</td>
            <td><code>ssh -o VerifyHostKeyDNS=yes user@host</code></td>
        </tr>

        <tr>
            <td><code>-o HostKeyAlgorithms=&lt;list&gt;</code></td>
            <td>Specify which host key algorithms to accept (useful when dealing with older servers).</td>
            <td><code>ssh -o HostKeyAlgorithms=ssh-ed25519 user@oldhost</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Port Forwarding and Tunneling</b></li>
    <br/>
    <ul>
        <li>These options are used to tunnel TCP traffic through an SSH connection.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-L &lt;local_port&gt;:&lt;host&gt;:&lt;host_port&gt;</code></td>
            <td>
                Local port forward:<br/>
                listen on local port and forward to <code>host:host_port</code> from the remote side.
            </td>
            <td><code>ssh -L 8080:localhost:3000 user@server</code></td>
        </tr>

        <tr>
            <td><code>-R &lt;remote_port&gt;:&lt;host&gt;:&lt;host_port&gt;</code></td>
            <td>
                Remote port forward:<br/>
                listen on remote port and forward back to <code>host:host_port</code> on your local side.
            </td>
            <td><code>ssh -R 9000:localhost:3000 user@server</code></td>
        </tr>

        <tr>
            <td><code>-D &lt;local_port&gt;</code></td>
            <td>
                Dynamic port forwarding (SOCKS proxy) on the given local port.<br/>
                Useful for tunneling arbitrary traffic through SSH.
            </td>
            <td><code>ssh -D 1080 user@server</code></td>
        </tr>

        <tr>
            <td><code>-N</code></td>
            <td>Do not execute a remote command; only forward ports (no shell).</td>
            <td><code>ssh -N -L 5432:db.internal:5432 user@bastion</code></td>
        </tr>

        <tr>
            <td><code>-f</code></td>
            <td>Run SSH in the background (after asking for passwords / passphrases).</td>
            <td><code>ssh -f -N -L 8080:localhost:3000 user@server</code></td>
        </tr>

        <tr>
            <td><code>-g</code></td>
            <td>Allow remote hosts to connect to local forwarded ports (for <code>-L</code> / <code>-D</code>).</td>
            <td><code>ssh -g -L 8080:localhost:3000 user@server</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Jump Hosts and Proxies</b></li>
    <br/>
    <ul>
        <li>Options for connecting to a host via intermediate servers.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-J &lt;user@jump&gt;[,&lt;user@jump2&gt;...]</code></td>
            <td>
                Use one or more jump hosts (proxy jumps).<br/>
                SSH will connect through these hosts to reach the final destination.
            </td>
            <td><code>ssh -J jumphost user@target</code></td>
        </tr>

        <tr>
            <td><code>-o ProxyCommand=&lt;command&gt;</code></td>
            <td>Use a custom command to connect to the server (legacy way to implement jump hosts).</td>
            <td><code>ssh -o ProxyCommand="ssh jumphost nc %h %p" user@target</code></td>
        </tr>

        <tr>
            <td><code>-o ProxyJump=&lt;host&gt;</code></td>
            <td>Same as <code>-J</code>, for use in config files.</td>
            <td><code>ssh -o ProxyJump=jumphost user@target</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>X11 Forwarding and Terminal Behavior</b></li>
    <br/>
    <ul>
        <li>Options that affect how the terminal and graphical forwarding behave.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-X</code></td>
            <td>Enable X11 forwarding (trusted or untrusted based on server config; sometimes restricted).</td>
            <td><code>ssh -X user@remote</code></td>
        </tr>

        <tr>
            <td><code>-Y</code></td>
            <td>Enable trusted X11 forwarding (less restricted, but requires caution).</td>
            <td><code>ssh -Y user@remote</code></td>
        </tr>

        <tr>
            <td><code>-t</code></td>
            <td>Force pseudo-tty allocation (useful when running interactive commands like <code>top</code> or <code>sudo</code>).</td>
            <td><code>ssh -t user@remote "sudo journalctl -f"</code></td>
        </tr>

        <tr>
            <td><code>-T</code></td>
            <td>Disable pseudo-tty allocation (never allocate a terminal).</td>
            <td><code>ssh -T git@github.com</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Debugging, Logging, and ControlMaster</b></li>
    <br/>
    <ul>
        <li>Options for seeing what SSH is doing and reusing connections.</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-v</code>, <code>-vv</code>, <code>-vvv</code></td>
            <td>
                Increase verbosity of logging (more <code>v</code> = more detailed).<br/>
                Useful for debugging handshake/auth problems.
            </td>
            <td><code>ssh -vv user@host</code></td>
        </tr>

        <tr>
            <td><code>-E &lt;logfile&gt;</code></td>
            <td>Append debug logs to the specified file.</td>
            <td><code>ssh -vvE ssh.log user@host</code></td>
        </tr>

        <tr>
            <td><code>-M</code></td>
            <td>Place the SSH connection into &quot;master&quot; mode for connection sharing (ControlMaster).</td>
            <td><code>ssh -M -S /tmp/ssh-sock user@host</code></td>
        </tr>

        <tr>
            <td><code>-S &lt;ctl_socket&gt;</code></td>
            <td>
                Specify the control socket path used for ControlMaster/ControlPath connections.<br/>
                Allows subsequent SSH calls to reuse the same TCP connection.
            </td>
            <td><code>ssh -S /tmp/ssh-sock user@host</code></td>
        </tr>

        <tr>
            <td><code>-O check|forward|exit</code></td>
            <td>
                Send control commands to an existing master connection (check status, request port forwarding, or close it).
            </td>
            <td><code>ssh -O check -S /tmp/ssh-sock user@host</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Generic</b> <code>-o</code> <b>Option (Config Key = Value)</b></li>
    <br/>
    <ul>
        <li><code>-o</code> lets you specify any SSH config directive on the command line. Common patterns:</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Example <code>-o</code> usage</th>
            <th>Meaning</th>
        </tr>

        <tr>
            <td><code>-o ConnectTimeout=5</code></td>
            <td>Fail if connection cannot be established within 5 seconds.</td>
        </tr>

        <tr>
            <td><code>-o ServerAliveInterval=30</code></td>
            <td>Send keepalive messages every 30 seconds to avoid idle disconnections.</td>
        </tr>

        <tr>
            <td><code>-o ServerAliveCountMax=3</code></td>
            <td>After 3 unanswered keepalives, SSH will terminate the connection.</td>
        </tr>

        <tr>
            <td><code>-o LogLevel=ERROR</code></td>
            <td>Show only error messages (less verbose than the default).</td>
        </tr>

        <tr>
            <td><code>-o Compression=yes</code></td>
            <td>Enable compression (same effect as <code>-C</code>).</td>
        </tr>
    </table>
    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->
<h3 id="ssh-keygen-intro">Introduction to ssh-keygen</h3>
<ol>

    <li><b>What Is It?</b></li>
    <ul>
        <br/>
        <li><code>ssh-keygen</code> is the standard tool (from OpenSSH) for creating and managing SSH key pairs.</li>
        <br/>
        <li>It is used to:
            <ul>
                <li>generate new SSH keys,</li>
                <li>change key passphrases,</li>
                <li>convert keys to different formats,</li>
                <li>print public keys from private keys,</li>
                <li>manage host keys / known_hosts entries.</li>
            </ul>
        </li>
        <br/>
        <li>SSH keys are the recommended way to authenticate to remote servers instead of passwords.</li>
        <br/>
        <li>On Linux/macOS, <code>ssh-keygen</code> is usually installed by default together with <code>ssh</code>.</li>
    </ul>
    <br/><br/>


    <li><b>Basic Usage: Generating a Key Pair</b></li>
    <br/>
    <ul>
        <li>The most common usage: generate a new key pair (private + public key):</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t ed25519 -C "your_email@example.com"</code></pre>

    <ul>
        <br/>
        <li>Interactive steps:</li>
        <ul>
            <li><u>file path</u> – default is <code>~/.ssh/id_ed25519</code></li>
            <li><u>passphrase</u> – optional but highly recommended</li>
        </ul>
        <br/>
        <li>Result:</li>
        <ul>
            <li><code>~/.ssh/id_ed25519</code> → private key</li>
            <li><code>~/.ssh/id_ed25519.pub</code> → public key</li>
        </ul>
        <br/>
        <li>The public key is what you copy to remote servers (e.g., into <code>~/.ssh/authorized_keys</code>).</li>
    </ul>
    <br/><br/>


    <li><b>Key Types and Algorithms</b></li>
    <br/>
    <ul>
        <li>You choose the algorithm with <code>-t</code>:</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Type</th>
            <th>Option</th>
            <th>Notes</th>
        </tr>
        <tr>
            <td>Ed25519</td>
            <td><code>-t ed25519</code></td>
            <td>Modern, fast, short keys, recommended default if supported.</td>
        </tr>
        <tr>
            <td>RSA</td>
            <td><code>-t rsa</code></td>
            <td>Widely supported, use 3072 or 4096 bits for security.</td>
        </tr>
        <tr>
            <td>ECDSA</td>
            <td><code>-t ecdsa</code></td>
            <td>Elliptic curve, okay, but ed25519 is often preferred.</td>
        </tr>
        <tr>
            <td>DSA</td>
            <td><code>-t dsa</code></td>
            <td>Deprecated/insecure, do not use.</td>
        </tr>
    </table>

    <br/>
    <ul>
        <li>Example: strong RSA key:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t rsa -b 4096 -C "your_email@example.com"</code></pre>

    <br/><br/>


    <li><b>Common Options (Quick Table)</b></li>
    <br/>
    <ul>
        <li>Most frequently used command-line flags:</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Option</th>
            <th>Meaning</th>
            <th>Example</th>
        </tr>

        <tr>
            <td><code>-t &lt;type&gt;</code></td>
            <td>Key type (rsa, ed25519, ecdsa, ...).</td>
            <td><code>ssh-keygen -t ed25519</code></td>
        </tr>

        <tr>
            <td><code>-b &lt;bits&gt;</code></td>
            <td>Key size (mainly for RSA).</td>
            <td><code>ssh-keygen -t rsa -b 4096</code></td>
        </tr>

        <tr>
            <td><code>-C &lt;comment&gt;</code></td>
            <td>Add a comment (often an email or label).</td>
            <td><code>ssh-keygen -C "laptop key"</code></td>
        </tr>

        <tr>
            <td><code>-f &lt;filename&gt;</code></td>
            <td>Specify output file (private key path).</td>
            <td><code>ssh-keygen -f ~/.ssh/myserver_ed25519</code></td>
        </tr>

        <tr>
            <td><code>-N &lt;passphrase&gt;</code></td>
            <td>Set passphrase non-interactively (be careful with shell history).</td>
            <td><code>ssh-keygen -N "mySecret" ...</code></td>
        </tr>

        <tr>
            <td><code>-p</code></td>
            <td>Change the passphrase of an existing key.</td>
            <td><code>ssh-keygen -p -f ~/.ssh/id_ed25519</code></td>
        </tr>

        <tr>
            <td><code>-y</code></td>
            <td>Read a private key and print the corresponding public key.</td>
            <td><code>ssh-keygen -y -f ~/.ssh/id_ed25519 &gt; id_ed25519.pub</code></td>
        </tr>

        <tr>
            <td><code>-l</code></td>
            <td>Show fingerprint of a key.</td>
            <td><code>ssh-keygen -l -f ~/.ssh/id_ed25519.pub</code></td>
        </tr>

        <tr>
            <td><code>-E &lt;hash&gt;</code></td>
            <td>Specify hash for fingerprints (e.g., <code>md5</code>, <code>sha256</code>).</td>
            <td><code>ssh-keygen -l -E sha256 -f id_ed25519.pub</code></td>
        </tr>
    </table>
    <br/><br/>


    <li><b>Default Locations and File Names</b></li>
    <br/>
    <ul>
        <li>By default, keys live under <code>~/.ssh/</code>:</li>
    </ul>

<pre><code class="language-plaintext line-numbers">~/.ssh/
    id_ed25519        ← default ed25519 private key
    id_ed25519.pub    ← its public key
    id_rsa            ← default RSA private key
    id_rsa.pub        ← its public key
</code></pre>

    <ul>
        <br/>
        <li>You can have <u>multiple keys</u> for different purposes:</li>
        <ul>
            <li><code>~/.ssh/id_github</code></li>
            <li><code>~/.ssh/id_company</code></li>
            <li><code>~/.ssh/id_personal_server</code></li>
        </ul>
        <br/>
        <li>Use <code>-f</code> when generating to pick a non-default name:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t ed25519 -f ~/.ssh/id_github -C "github key"</code></pre>

    <br/><br/>


    <li><b>Changing or Adding a Passphrase</b></li>
    <br/>
    <ul>
        <li>To <b>add</b> or <b>change</b> a passphrase on an existing key:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -p -f ~/.ssh/id_ed25519</code></pre>

    <ul>
        <li>Interactive steps:</li>
        <ul>
            <li>Enter old passphrase (if any).</li>
            <li>Enter new passphrase (or press Enter for empty, which is not recommended).</li>
        </ul>
        <li>This does <u>not</u> change the key itself, only how it is encrypted on disk.</li>
    </ul>
    <br/><br/>


    <li><b>Printing the Public Key from a Private Key</b> (<code>-y</code>)</li>
    <br/>
    <ul>
        <li>If you lost your <code>.pub</code> file but still have the private key, you can regenerate the public key:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -y -f ~/.ssh/id_ed25519 &gt; ~/.ssh/id_ed25519.pub</code></pre>

    <ul>
        <li><code>-y</code> reads the private key, extracts the matching public key, and prints it to stdout.</li>
    </ul>
    <br/><br/>


    <li><b>Checking Key Fingerprints</b> (<code>-l</code>, <code>-E</code>)</li>
    <br/>
    <ul>
        <li>Fingerprints help you verify that a key (or host) is the one you expect.</li>
        <li>Example:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -l -f ~/.ssh/id_ed25519.pub</code></pre>

    <ul>
        <li>Add <code>-E sha256</code> or <code>-E md5</code> to specify hash algorithm:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -l -E sha256 -f ~/.ssh/id_ed25519.pub</code></pre>

    <br/><br/>


    <li><b>Managing</b> <code>known_hosts</code> <b>Entries</b></li>
    <br/>
    <ul>
        <li><code>ssh-keygen</code> can also manipulate the <code>~/.ssh/known_hosts</code> file (where host keys are stored).</li>
    </ul>
    <br/>

    <table>
        <tr>
            <th>Command</th>
            <th>Meaning</th>
        </tr>
        <tr>
            <td><code>ssh-keygen -F hostname</code></td>
            <td>Find and print host keys for <code>hostname</code> in <code>known_hosts</code>.</td>
        </tr>
        <tr>
            <td><code>ssh-keygen -R hostname</code></td>
            <td>Remove all keys for <code>hostname</code> from <code>known_hosts</code> (useful if the remote host changed its key).</td>
        </tr>
    </table>

    <br/>
    <ul>
        <li>Example: remove a stale known-host entry:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -R example.com</code></pre>

    <br/><br/>


    <li><b>Typical Real-World Workflows</b></li>
    <br/>
    <ul>
        <li><b>Generate a key and use it for GitHub</b>:</li>
    </ul>

<pre><code class="language-bash line-numbers"># 1) Generate key
ssh-keygen -t ed25519 -f ~/.ssh/id_github -C "github-email@example.com"

# 2) Print the public key
cat ~/.ssh/id_github.pub

# 3) Copy the printed key into GitHub &gt; Settings &gt; SSH and GPG keys

# 4) Use in SSH config
cat &gt;&gt; ~/.ssh/config &lt;&lt;EOF
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_github
EOF
</code></pre>

    <br/>

    <ul>
        <li><b>Generate a key for a specific server</b>:</li>
    </ul>

<pre><code class="language-bash line-numbers">ssh-keygen -t ed25519 -f ~/.ssh/id_server -C "server key"

# copy public key to server (if ssh-copy-id is available)
ssh-copy-id -i ~/.ssh/id_server.pub user@server

# or manually:
cat ~/.ssh/id_server.pub  # copy this line
# then paste it into server's ~/.ssh/authorized_keys
</code></pre>

    <br/><br/>


    <li><b>Security Tips</b></li>
    <br/>
    <ul>
        <li>Always protect your <u>private</u> key with correct file permissions (should be readable only by you):</li>
    </ul>

<pre><code class="language-bash line-numbers">chmod 600 ~/.ssh/id_ed25519</code></pre>

    <ul>
        <li>Use a passphrase for keys on laptops or shared devices.</li>
        <li>Consider using an SSH agent (<code>ssh-agent</code> + <code>ssh-add</code>) to avoid entering the passphrase every time.</li>
        <li>Use modern key types (ed25519 or RSA 3072+/4096) rather than old ones (DSA).</li>
    </ul>
    <br/><br/>
</ol>
<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>


<!-- * * * * * * * * * * * * * * -->

<!-- * * * * * * * * * * * * * * -->


<hr/>
<!-- * * * * * * * * * * * * * * -->

<footer>
    <p>&copy; 2025 Hwangfucius. All rights reserved.</p>
</footer>
</body>
<!-- * * * * * * * * * * * * * * -->
</html>
<!-- * * * * * * * * * * * * * * -->
